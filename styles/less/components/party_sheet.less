.application.wfrp3e.party .window-content {
	& section[data-application-part="attributes"] {
		grid-template-areas:
			"tension-meter tension-meter"
			"header illustration"
			"events illustration"
			"members illustration"
			"special-ability special-ability"
			"sockets sockets";
		grid-template-columns: 1fr 250px;
		grid-template-rows: 40px 64px auto 100px auto auto;
		grid-gap: 0.5rem;
		flex-grow: 1;
		display: grid;
		padding: 0;

		& h4 {
			text-align: center;
		}

		& .header {
			grid-area: header;
			margin: 0 auto;
			text-shadow:
					-1pt -1pt 0 black,
					-1pt 0 0 black,
					0 -1pt 0 black,
					-1pt 1pt 0 black,
					1pt -1pt 0 black,
					0 1pt 0 black,
					1pt 0 0 black,
					1pt 1pt 0 black;
			width: 385px;

			& * {
				color: white;
				font-variant-caps: small-caps;
				text-align: center;
			}

			& input {
				&[name="name"] {
					font-size: var(--font-size-20);
				}

				&[name="system.traits"] {
					font-style: italic;
				}
			}
		}

		& .members {
			display: flex;
			grid-area: members;

			& .member {
				position: relative;

				& [data-action="removeMember"] {
					bottom: 0.25rem;
					position: absolute;
					right: 0.25rem;
				}
			}
		}

		& .events {
			grid-area: events;

			& .title {
				font-size: var(--font-size-20);
				font-variant-caps: small-caps;
				font-weight: bold;
				text-align: center;
			}

			& .event {
				align-items: center;
				display: flex;
				flex-wrap: nowrap;
				gap: 1rem;
				border-color: var(--color-fieldset-border);
				border-radius: 0.5rem;

				& .threshold {
					flex: 0 0 2rem;
					text-align: center;
				}
			}
		}

		& .illustration {
			flex-shrink: 1;
			grid-area: illustration;
			position: relative;

			& .fortune-token {
				bottom: 0.5rem;
				position: absolute;
				right: 50%;
				transform: translate(50%);

				& > img {
					border: none;
					height: 3rem;
				}

				& > .fortune-counter {
					color: white;
					font-size: var(--font-size-28);
					left: 50%;
					position: absolute;
					bottom: 2.5%;
					text-shadow:
							-1px -1px 0 black,
							-1px 0 0 black,
							0 -1px 0 black,
							-1px 1px 0 black,
							1px -1px 0 black,
							0 1px 0 black,
							1px 0 0 black,
							1px 1px 0 black;
					transform: translate(-50%);
				}

				&:hover > .fortune-counter {
					text-shadow: 0 0 0.5rem var(--color-shadow-primary);
				}
			}
		}

		& .special-ability {
			grid-area: special-ability;

			& input[name="system.specialAbility.title"] {
				font-size: var(--font-size-20);
				font-variant-caps: small-caps;
				font-weight: bold;
				text-align: center;
			}
		}

		& .tension-meter {
			display: flex;
			grid-area: tension-meter;
			justify-content: center;

			& [data-action] {
				display: block;
				height: 2.5rem;
				font-size: var(--font-size-24);
				padding-top: 0.5rem;
				text-align: center;
				vertical-align: middle;
				width: 2.5rem;
			}

			& .segment-container {
				display: flex;
				justify-content: center;

				& .segment {
					background-color: #c06030;
					border: 1px solid #a05040;
					color: white;
					height: 2.5rem;
					flex: 0 0 40px;
					font-size: var(--font-size-28);
					padding-top: 2px;
					text-align: center;
					width: 2.5rem;

					&.threshold,
					&:first-child {
						background-color: #184080;
						border-color: #803030;
					}

					&:last-child {
						background-color: #103040;
						border-color: #803030;
					}

					& > img {
						border: none;
						filter: drop-shadow(0 0 2px black);
					}

					& > input {
						display: none;
					}
				}
			}
		}

		& .sockets {
			grid-area: sockets;
			overflow: auto;

			& .socket {
				flex: 1 auto;
			}
		}
	}
}