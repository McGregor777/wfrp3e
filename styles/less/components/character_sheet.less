.character-sheet {
	& form {
		display: flex;
		flex-direction: column;

		& .character-sheet-body {
			flex: 1 1 0;
			min-height: 0;

			& > .tab.active {
				display: flex;
				flex-flow: column nowrap;
				height: 100%;
				overflow: auto;
			}

			& .actions-tab {
				overflow: unset;

				& .character-sheet-actions {
					min-height: 0;
				}

				& .character-sheet-action-tabs {
					border-bottom: 1px solid #b5b3a4;
					display: flex;
					flex-flow: row wrap;
					justify-content: space-around;

					& > * {
						margin: 0 5px;
					}
				}
			}

			& .careers-tab {
				overflow: unset;

				& .character-sheet-careers {
					min-height: 0;
				}

				& .character-sheet-career-tabs {
					border-bottom: 1px solid #b5b3a4;
					display: flex;
					flex-flow: row wrap;
					justify-content: space-around;

					& > * {
						margin: 0 5px;
					}
				}
			}

			& .characteristics-tab {
				&.active {
					flex-direction: row !important;
				}

				& .attributes {
					display: flex;
					flex: 1 1 240px;
					flex-direction: column;

					& .attributes-subdivision {
						display: flex;
						flex-flow: row wrap;

						& .attribute {
							flex: 1 0 80px;
							padding: 5px;
							text-align: center;

							& .attribute-input {
								height: 60px !important;
							}

							& .attribute-input-container {
								display: flex;
								flex-direction: column;
							}

							& .attribute-label {
								padding-top: 10px;
							}
						}
					}

					& .cards {
						overflow-y: scroll;

						& > div:not(:last-child) .card {
							margin-bottom: 20px !important;
						}
					}
				}

				& .characteristics-and-impairments {
					display: flex;
					flex-direction: column;
					width: auto;

					& .characteristics-and-impairments-subdivision {
						display: flex;
						flex-direction: row;
						flex-grow: 1;
					}

					& .characteristics {
						display: flex;
						flex: 1 1 auto;
						flex-direction: column;
						justify-content: space-around;
						padding: 0 10px;

						& .characteristic {
							width: 130px;

							& .characteristic-fortune-input {
								font-weight: bold;
								height: 25px !important;
								margin-left: 10px !important;
								padding: 3px !important;
								text-align: center !important;
								width: 25px !important;
							}

							& .characteristic-input-container {
								align-items: center;
								display: flex;
								flex-flow: row wrap;
								justify-content: flex-end;
							}

							& .characteristic-title {
								font: var(--font-size-18) var(--font-primary);
								font-variant-caps: small-caps;
								font-weight: bold;
								text-align: center;
							}

							& .characteristic-value-input {
								display: block;
								font-weight: bold;
								height: 45px !important;
								padding: 3px !important;
								text-align: center !important;
								width: 35px !important;
							}
						}
					}

					& .impairments {
						display: flex;
						flex-direction: column;

						.impairment {
							display: flex;
							margin: auto;
							flex: 1 1 auto;
							flex-direction: row;

							&:first-child {
								margin-bottom: 10px;
							}

							&:last-child {
								margin-top: 10px;
							}

							& > .token {
								position: relative;
								width: 4rem;

								& > * {
									position: absolute;
								}


								& > img {
									border: none;
									opacity: 75%;
									top: 50%;
									transform: translate(0, -50%);
								}

								& > .token-counter {
									color: white;
									font-size: 24pt;
									left: 38%;
									text-shadow:
											-1pt -1pt 0 black,
											-1pt 0 0 black,
											0 -1pt 0 black,
											-1pt 1pt 0 black,
											1pt -1pt 0 black,
											0 1pt 0 black,
											1pt 0 0 black,
											1pt 1pt 0 black;
									top: 47%;
								}
							}

							& .title {
								display: block;
								font: var(--font-size-18) var(--font-primary);
								font-variant-caps: small-caps;
								font-weight: bold;
								padding: 0 2px 0 4px;
								writing-mode: vertical-lr;
								text-align: center;
								transform: rotate(180deg);
							}
						}
					}
				}

				& .skills {
					flex: 1 1 auto;
					overflow: auto;

					& .skill-row {
						font-variant-caps: small-caps;
					}
				}

				& .stance-meter {
					margin-bottom: 0.5rem;

					& .stance-meter-segments {
						display: flex;
						justify-content: center;

						& .stance-meter-segment {
							display: block;
							height: 27px;

							&.active {
								filter: drop-shadow(gold 0px 0px 4px);
							}

							& > img {
								border: none;
								width: 32px;

								&.stance-neutral {
									width: 38px;
								}
							}

							& > input {
								display: none;
							}
						}
					}
				}
			}

			& .talents-tab {
				overflow: unset;

				& .character-sheet-talents {
					min-height: 0;

					& .talent-container {
						& > div {
							margin-bottom: 2rem;

							& > select {
								margin: 0 0.5rem;
								width: calc(100% - 1rem);
							}

							& > .talent-card {
								margin-bottom: 0;
							}
						}
					}
				}

				& .character-sheet-talent-tabs {
					border-bottom: 1px solid #b5b3a4;
					display: flex;
					flex-flow: row wrap;
					justify-content: space-around;

					& > * {
						margin: 0 5px;
					}
				}
			}

			& .item-container {
				display: none;
				flex-flow: row wrap;
				height: 100%;
				overflow: auto;

				&.active {
					display: flex !important;
				}

				& .career-partial {
					display: flex;
					flex-flow: row wrap;

					& .career-advancement {
						flex: 1 1 300px;
					}
				}
			}

			& .table {
				margin-bottom: 1rem;
				& hr {
					margin: 0;
				}

				& > * hr {
					border: none;
					border-left: 1px solid var(--color-border-light-primary);
					border-right: 1px solid var(--color-border-light-highlight);
					height: 1rem;
					width: 1px;
				}

				& .buttons {
					font-size: 10pt;
					width: 5%;
				}

				& .encumbrance {
					width: 5%;
				}

				& .quantity {
					width: 10%;
				}

				& .row {
					background: #D8CFC0;
					padding: 0.25rem;

					&:nth-of-type(even) {
						background: #E9E2DB;
					}

					& .content:first-child {
						align-items: center;
						display: flex;
						text-align: center;
					}
				}

				& .table-header {
					background: #7E1518;
					color: var(--color-text-light-highlight);
					display: flex;
					font-weight: bold;
					padding: 0.25rem;
					text-align: center;
					text-shadow: 1px 1px var(--color-shadow-dark);

					&.title {
						background: #3F0B0CFF;
						display: block;
					}

					& hr {
						border-right: 1px solid var(--color-border-light-primary);
					}
				}

				&.armour {
					& .armour-defence-value {
						width: 10%;
					}

					& .armour-soak-value {
						width: 10%;
					}

					& .armour-name {
						text-align: initial;
						width: 70%;
					}
				}

				&.money {
					& .money-value {
						width: 10%;
					}

					& .money-name {
						text-align: initial;
						width: 70%;
					}
				}

				&.trapping {

					& .trapping-name {
						text-align: initial;
						width: 90%;
					}
				}

				&.weapon {
					& .weapon-critical-rating {
						width: 5%;
					}

					& .weapon-damage-rating {
						width: 5%;
					}

					& .weapon-group {
						width: 15%;
					}

					& .weapon-name {
						text-align: initial;
						width: 20%;
					}

					& .weapon-qualities {
						width: 40%;
					}

					& .weapon-range {
						width: 10%;
					}
				}
			}
		}

		& .primary-tabs {
			display: flex;
			flex-flow: row wrap;
			height: auto !important;
			justify-content: space-between;
			text-align: center;

			& > * {
				margin: 0 5px;
			}
		}

		& .character-sheet-title {
			display: block;
			font: var(--font-size-18) var(--font-primary);
			font-variant-caps: small-caps;
			font-weight: bold;
			text-align: center;
		}
	}
}