<section>
	<table>
		<thead>
			<tr>
				<th class="left-aligned shrinked skill-acquired">
					{{localize "SKILL.acquired"}}
				</th>

				<th class="left-aligned skill-name">
					{{localize "Name"}}
				</th>

				<th class="center-aligned skill-characteristic">
					{{localize "SKILL.FIELDS.characteristic.label"}}
				</th>

				<th class="center-aligned skill-training-level">
					{{localize "SKILL.FIELDS.trainingLevel.label"}}
				</th>

				<th class="left-aligned skill-specialisations">
					{{localize "SKILL.FIELDS.specialisations.label"}}
				</th>
			</tr>
		</thead>

		<tbody>
			{{#each items as |item i|}}
				{{#with (lookup @root.characteristics item.system.characteristic) as |characteristic|}}
					<tr>
						<td class="left-aligned shrinked skill-acquired">
							<input name="selection"
								   value="0"
								   type="checkbox"
								   data-type="acquisition"
								   data-uuid="{{item.uuid}}"
								   {{#if (or item.parent
									   (eq item.system.advanced false)
									   (includes item.uuid @root.freeAcquisitions ))}}
									   checked disabled
								   {{else if (lookup @root.upgrades.acquisition item.uuid)}}
									   checked
								   {{/if}} />
						</td>

						<td class="left-aligned skill-name">
							{{item.name}}
						</td>

						<td class="center-aligned skill-characteristic">
							{{localize characteristic.name}}
						</td>

						<td class="center-aligned skill-training-level">
							{{#for 1 4 1}}
								<label>
									<input name="selection"
										   value="{{this}}"
										   type="checkbox"
										   data-type="trainingLevel"
										   data-uuid="{{item.uuid}}"
										   {{#if (or
											   (gte item.system.trainingLevel this)
											   (and (same this 1) (includes item.uuid @root.freeTrainings)))}}
											   checked disabled
										   {{else unless (and (ne @root.advanceType "dedicationBonus") (or
											   (and item.parent (gte item.parent.system.rank this))
											   (same (increment item.system.trainingLevel 1) this)
											   (and (same this 1) (includes item.uuid @root.freeAcquisitions))))}}
											   disabled
										   {{else if (same (lookup @root.upgrades.trainingLevel item.uuid) this)}}
											   checked
										   {{/if}} />
								</label>
							{{/for}}
						</td>

						<td class="left-aligned skill-specialisations">
							<label>
								{{#if item.system.specialisations}}
									<span>{{item.system.specialisations}}</span>
								{{/if}}

								{{#if (and (ne @root.advanceType "nonCareer") (or
									(gte item.system.trainingLevel 1)
									(lookup @root.upgrades.trainingLevel item.uuid)
									(includes item.uuid @root.freeTrainings)))}}
									<input name="selection"
										   value="{{lookup @root.upgrades.specialisation item.uuid}}"
										   type="text"
										   data-type="specialisation"
										   data-uuid="{{item.uuid}}" />
								{{/if}}
							</label>
						</td>
					</tr>
				{{/with}}
			{{/each}}
		</tbody>
	</table>
</section>