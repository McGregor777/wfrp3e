<section class="tab {{tab.id}} {{tab.cssClass}}" data-tab="{{tab.id}}" data-group="{{tab.group}}" data-item-type="talent">
	<nav class="search-bar">
		<div class="form-group expanded">
			<label for="{{concat rootId '-searchFilter.talents.text'}}">
				{{localize "ACTOR.SHEET.search"}}
			</label>

			<div class="form-fields">
				<input id="{{concat rootId '-searchFilter.talents.text'}}"
					   class="search-filter"
					   name="searchFilters.talents.text"
					   value="{{searchFilters.text}}"
					   type="text" />

				<a data-action="openFilters" data-tooltip="{{localize 'ACTOR.ACTIONS.openFilters'}}">
					<span class="fas fa-filter"></span>
				</a>

				<a data-action="addItem"
				   data-tooltip="{{localize 'ACTOR.ACTIONS.addItem' type=(localize "TYPES.Item.talent")}}">
					<span class="fa-solid fa-plus"></span>
				</a>
			</div>
		</div>

		<div class="form-group stacked filter-container">
			<label>{{localize "ACTOR.SHEET.filters"}}</label>

			{{#each types as |type t|}}
				<div class="form-group">
					<label for="{{concat @root.rootId '-searchFilter.talents.type'}}">
						{{localize type}}
					</label>

					<div class="form-fields">
						<input id="{{concat @root.rootId '-searchFilter.talents.type'}}"
							   class="search-filter"
							   name="searchFilters.talents.type"
							   value="{{t}}"
							   type="radio"
							   {{checked (eq t @root.searchFilters.type)}} />
					</div>
				</div>
			{{/each}}
		</div>
	</nav>

	{{#if (eq source.flags.wfrp3e.embeddedItemsDisplayMode "cards")}}
		<section class="item-container">
			{{#each items as |item i|}}
				{{#if (eq item.type "talent")}}
					<div class="talent-container">
						{{>systems/wfrp3e/templates/applications/partials/talent-card.hbs item=item}}

						{{#if @root.system.socketsByType}}
							<select class="item-input socket-select"
									name="system.socket"
									data-item-id="{{item._id}}"
									{{#unless @root.editable}}disabled{{/unless}}>
								{{selectOptions (lookup @root.system.socketsByType item.system.type)
												selected=item.system.socket
												blank=(localize "TALENT.SOCKET.none")}}
							</select>
						{{/if}}
					</div>
				{{else if (eq item.type "ability")}}
					<div>
						{{>systems/wfrp3e/templates/applications/partials/ability-card.hbs item=item}}
					</div>
				{{/if}}
			{{/each}}
		</section>
	{{else}}
		<section class="talent table scrollable">
			<div class="table-body">
				{{#each items as |item i|}}
					{{#if (eq item.type "talent")}}
						{{>systems/wfrp3e/templates/applications/sheets/actors/partials/talent-row.hbs item=item}}
					{{else if (eq item.type "ability")}}
						{{>systems/wfrp3e/templates/applications/sheets/actors/partials/ability-row.hbs item=item}}
					{{/if}}
				{{/each}}
			</div>
		</section>
	{{/if}}
</section>
